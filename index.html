<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Snake.io - Crypto Resource Hunter</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;
      background:#0f0f0f;color:#fff;min-height:100vh;padding:20px;
      background-image:
        radial-gradient(circle at 20% 80%, rgba(120,119,198,.3) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(255,119,198,.15) 0%, transparent 50%)
    }
    .container{max-width:1600px;margin:0 auto;background:rgba(26,26,26,.9);backdrop-filter:blur(20px);border-radius:24px;padding:40px;box-shadow:0 8px 32px rgba(0,0,0,.3);border:1px solid rgba(255,255,255,.1)}
    .game-container{max-width:1000px;margin:0 auto;text-align:center}
    .game-canvas{border:3px solid #ffd700;border-radius:12px;background:#1a1a1a;box-shadow:0 4px 15px rgba(0,0,0,.3)}
    .controls-info{margin:20px 0;padding:15px;background:#2a2a2a;border-radius:12px;color:#b0b0b0}
    .game-over{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);background:rgba(0,0,0,.9);color:#fff;padding:30px;border-radius:16px;text-align:center;border:2px solid #ffd700}
    .header{text-align:center;margin-bottom:40px}
    h1{font-size:3em;font-weight:700;text-shadow:2px 2px 4px rgba(0,0,0,.5);background:linear-gradient(45deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:10px}
    .subtitle{color:#b0b0b0;font-size:1.2em;margin-bottom:20px}
    .theme-toggle{position:absolute;top:20px;right:20px;background:#2a2a2a;border:1px solid rgba(255,255,255,.2);border-radius:25px;padding:10px 20px;color:#fff;cursor:pointer;transition:.3s}
    .theme-toggle:hover{background:#3a3a3a;transform:translateY(-2px)}
    .setup-card{background:#1a1a1a;border-radius:16px;padding:30px;border:1px solid rgba(255,255,255,.1);box-shadow:0 4px 15px rgba(0,0,0,.2)}
    .card-title{font-size:1.5em;font-weight:600;margin-bottom:25px;color:#ffd700}
    .btn{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;padding:12px 24px;border-radius:25px;font-size:14px;font-weight:600;cursor:pointer;transition:.3s;margin:5px;box-shadow:0 4px 15px rgba(0,0,0,.2)}
    .btn:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 6px 20px rgba(0,0,0,.3)}
    .btn.secondary{background:linear-gradient(45deg,#2c3e50,#34495e)}
    .btn:disabled{background:#666;cursor:not-allowed;opacity:.6}
    .stats{display:grid;grid-template-columns:repeat(6,1fr);gap:15px;margin:30px 0}
    .stat-card{background:#1a1a1a;border-radius:12px;padding:20px;text-align:center;border:1px solid rgba(255,255,255,.1)}
    .stat-number{font-size:1.8em;font-weight:bold;background:linear-gradient(45deg,#ffd700,#ffed4e);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;margin-bottom:5px}
    .stat-label{font-size:.75em;color:#b0b0b0;text-transform:uppercase;letter-spacing:.5px}
    .log{background:#2a2a2a;border-radius:12px;padding:20px;max-height:350px;overflow-y:auto;font-family:"Courier New",monospace;font-size:13px;line-height:1.5;border:1px solid rgba(255,255,255,.1)}
    .log-entry{margin-bottom:8px;padding:5px 0;border-bottom:1px solid rgba(255,255,255,.05)}
    .success{color:#00ff88}.error{color:#ff4757}.info{color:#3742fa}.warning{color:#ffa502}
    ::-webkit-scrollbar{width:8px}::-webkit-scrollbar-track{background:#2a2a2a}::-webkit-scrollbar-thumb{background:#ffd700;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#ffed4e}

    /* Light mode */
    body.light-mode{background:#f8f9fa;color:#202124;
      background-image:
        radial-gradient(circle at 20% 80%, rgba(66,133,244,.1) 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, rgba(52,168,83,.1) 0%, transparent 50%)}
    body.light-mode .container,
    body.light-mode .setup-card,
    body.light-mode .stat-card,
    body.light-mode .log{background:#fff;color:#202124}
    body.light-mode .game-canvas,
    body.light-mode .controls-info,
    body.light-mode .theme-toggle{background:#f1f3f4;color:#202124}
  </style>
</head>
<body>
  <button class="theme-toggle" onclick="toggleTheme()">üåô Dark Mode</button>

  <div class="container">
    <div class="header">
      <h1>üêç Crypto Resource Hunter</h1>
      <p class="subtitle">Collect crypto resources to survive! Use WASD to move</p>
    </div>

    <div class="game-container">
      <canvas id="gameCanvas" class="game-canvas" width="800" height="600"></canvas>
      
      <div class="controls-info">
        <strong>Controls:</strong> W/A/S/D to move ‚Ä¢ Collect üí∞ crypto resources to survive ‚Ä¢ Avoid running out of energy!
      </div>

      <div class="stats">
        <div class="stat-card"><div class="stat-number" id="score">0</div><div class="stat-label">Score</div></div>
        <div class="stat-card"><div class="stat-number" id="health">100</div><div class="stat-label">Energy</div></div>
        <div class="stat-card"><div class="stat-number" id="resourcesCollected">0</div><div class="stat-label">Resources</div></div>
        <div class="stat-card"><div class="stat-number" id="gameTime">0:00</div><div class="stat-label">Time</div></div>
        <div class="stat-card"><div class="stat-number" id="level">1</div><div class="stat-label">Level</div></div>
        <div class="stat-card"><div class="stat-number" id="statusIcon">üü¢</div><div class="stat-label">Status</div></div>
      </div>

      <div style="margin-top:20px">
        <button class="btn" onclick="startGame()">üéÆ Start Game</button>
        <button class="btn secondary" onclick="pauseGame()">‚è∏Ô∏è Pause</button>
        <button class="btn secondary" onclick="restartGame()">üîÑ Restart</button>
      </div>
    </div>

    <div class="setup-card" style="margin-top:30px">
      <h3 class="card-title">üìä Game Log</h3>
      <div class="log" id="log"></div>
    </div>
  </div>

  <script>
    var game;

    function SnakeGame(){
      this.canvas = document.getElementById('gameCanvas');
      this.ctx = this.canvas.getContext('2d');
      this.isRunning = false;
      this.isPaused = false;
      this.score = 0;
      this.health = 100;
      this.resourcesCollected = 0;
      this.level = 1;
      this.gameTime = 0;
      this.startTime = null;
      
      // Player object
      this.player = {
        x: 400,
        y: 300,
        size: 20,
        speed: 5,
        color: '#ffd700'
      };
      
      // Resources array
      this.resources = [];
      
      // Game settings
      this.maxResources = 10;
      this.resourceSpawnRate = 0.02;
      this.healthDecayRate = 0.1;
      
      this.initializeControls();
    }

    SnakeGame.prototype.initializeControls = function(){
      var self = this;
      document.addEventListener('keydown', function(e){
        if(!self.isRunning || self.isPaused) return;
        
        switch(e.key.toLowerCase()){
          case 'w':
          case 'arrowup':
            self.player.y = Math.max(self.player.size, self.player.y - self.player.speed);
            break;
          case 's':
          case 'arrowdown':
            self.player.y = Math.min(self.canvas.height - self.player.size, self.player.y + self.player.speed);
            break;
          case 'a':
          case 'arrowleft':
            self.player.x = Math.max(self.player.size, self.player.x - self.player.speed);
            break;
          case 'd':
          case 'arrowright':
            self.player.x = Math.min(self.canvas.width - self.player.size, self.player.x + self.player.speed);
            break;
        }
      });
    };

    SnakeGame.prototype.spawnResource = function(){
      if(this.resources.length < this.maxResources && Math.random() < this.resourceSpawnRate){
        var resource = {
          x: Math.random() * (this.canvas.width - 30) + 15,
          y: Math.random() * (this.canvas.height - 30) + 15,
          size: 15,
          color: '#00ff88',
          value: Math.floor(Math.random() * 3) + 1,
          type: ['üí∞', '‚ö°', 'üíé'][Math.floor(Math.random() * 3)]
        };
        this.resources.push(resource);
      }
    };

    SnakeGame.prototype.checkCollisions = function(){
      var self = this;
      for(var i = this.resources.length - 1; i >= 0; i--){
        var resource = this.resources[i];
        var dx = this.player.x - resource.x;
        var dy = this.player.y - resource.y;
        var distance = Math.sqrt(dx * dx + dy * dy);
        
        if(distance < this.player.size + resource.size){
          // Collision detected
          this.collectResource(resource);
          this.resources.splice(i, 1);
        }
      }
    };

    SnakeGame.prototype.collectResource = function(resource){
      this.resourcesCollected++;
      this.score += resource.value * 10;
      
      switch(resource.type){
        case 'üí∞':
          this.health += 5;
          this.log('üí∞ Collected crypto coin! +5 energy', 'success');
          break;
        case '‚ö°':
          this.health += 10;
          this.log('‚ö° Found energy boost! +10 energy', 'success');
          break;
        case 'üíé':
          this.health += 15;
          this.score += 20;
          this.log('üíé Rare diamond found! +15 energy, +20 score', 'success');
          break;
      }
      
      if(this.health > 100) this.health = 100;
      
      // Level up every 10 resources
      if(this.resourcesCollected % 10 === 0){
        this.level++;
        this.player.speed += 0.5;
        this.log('üéâ Level up! Speed increased', 'info');
      }
    };

    SnakeGame.prototype.update = function(){
      if(!this.isRunning || this.isPaused) return;
      
      // Spawn resources
      this.spawnResource();
      
      // Check collisions
      this.checkCollisions();
      
      // Decrease health over time
      this.health -= this.healthDecayRate;
      
      // Update game time
      if(this.startTime){
        this.gameTime = Math.floor((Date.now() - this.startTime) / 1000);
      }
      
      // Check game over
      if(this.health <= 0){
        this.gameOver();
      }
      
      this.updateStats();
    };

    SnakeGame.prototype.render = function(){
      if(!this.isRunning) return;
      
      // Clear canvas
      this.ctx.fillStyle = '#1a1a1a';
      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
      
      // Draw player
      this.ctx.fillStyle = this.player.color;
      this.ctx.beginPath();
      this.ctx.arc(this.player.x, this.player.y, this.player.size, 0, 2 * Math.PI);
      this.ctx.fill();
      
      // Draw player emoji face
      this.ctx.font = '24px Arial';
      this.ctx.textAlign = 'center';
      this.ctx.fillText('üêç', this.player.x, this.player.y + 8);
      
      // Draw resources
      var self = this;
      this.resources.forEach(function(resource){
        self.ctx.fillStyle = resource.color;
        self.ctx.beginPath();
        self.ctx.arc(resource.x, resource.y, resource.size, 0, 2 * Math.PI);
        self.ctx.fill();
        
        // Draw resource emoji
        self.ctx.font = '20px Arial';
        self.ctx.fillText(resource.type, resource.x, resource.y + 6);
      });
      
      // Draw health bar
      var barWidth = 200;
      var barHeight = 20;
      var barX = 10;
      var barY = 10;
      
      // Background
      this.ctx.fillStyle = '#333';
      this.ctx.fillRect(barX, barY, barWidth, barHeight);
      
      // Health fill
      this.ctx.fillStyle = this.health > 30 ? '#00ff88' : '#ff4757';
      this.ctx.fillRect(barX, barY, (this.health / 100) * barWidth, barHeight);
      
      // Health text
      this.ctx.fillStyle = '#fff';
      this.ctx.font = '14px Arial';
      this.ctx.textAlign = 'left';
      this.ctx.fillText('Energy: ' + Math.ceil(this.health) + '%', barX, barY + 35);
    };

    SnakeGame.prototype.gameLoop = function(){
      var self = this;
      if(this.isRunning){
        this.update();
        this.render();
        requestAnimationFrame(function(){ self.gameLoop(); });
      }
    };

    SnakeGame.prototype.start = function(){
      this.isRunning = true;
      this.isPaused = false;
      this.startTime = Date.now();
      this.log('üéÆ Game started! Collect resources to survive!', 'success');
      this.gameLoop();
    };

    SnakeGame.prototype.pause = function(){
      this.isPaused = !this.isPaused;
      if(this.isPaused){
        this.log('‚è∏Ô∏è Game paused', 'info');
      } else {
        this.log('‚ñ∂Ô∏è Game resumed', 'info');
      }
    };

    SnakeGame.prototype.restart = function(){
      this.isRunning = false;
      this.isPaused = false;
      this.score = 0;
      this.health = 100;
      this.resourcesCollected = 0;
      this.level = 1;
      this.gameTime = 0;
      this.startTime = null;
      this.player.x = 400;
      this.player.y = 300;
      this.player.speed = 5;
      this.resources = [];
      this.updateStats();
      this.log('üîÑ Game reset', 'info');
      
      // Clear canvas
      this.ctx.fillStyle = '#1a1a1a';
      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
      
      // Draw start message
      this.ctx.fillStyle = '#ffd700';
      this.ctx.font = '24px Arial';
      this.ctx.textAlign = 'center';
      this.ctx.fillText('Press Start Game to begin!', this.canvas.width/2, this.canvas.height/2);
    };

    SnakeGame.prototype.gameOver = function(){
      this.isRunning = false;
      this.log('üíÄ Game Over! Final score: ' + this.score, 'error');
      
      // Draw game over message
      this.ctx.fillStyle = 'rgba(0,0,0,0.8)';
      this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);
      
      this.ctx.fillStyle = '#ffd700';
      this.ctx.font = '36px Arial';
      this.ctx.textAlign = 'center';
      this.ctx.fillText('GAME OVER', this.canvas.width/2, this.canvas.height/2 - 50);
      
      this.ctx.fillStyle = '#fff';
      this.ctx.font = '18px Arial';
      this.ctx.fillText('Final Score: ' + this.score, this.canvas.width/2, this.canvas.height/2);
      this.ctx.fillText('Resources Collected: ' + this.resourcesCollected, this.canvas.width/2, this.canvas.height/2 + 30);
      this.ctx.fillText('Press Restart to play again', this.canvas.width/2, this.canvas.height/2 + 70);
    };

    SnakeGame.prototype.updateStats = function(){
      document.getElementById('score').textContent = this.score;
      document.getElementById('health').textContent = Math.ceil(this.health);
      document.getElementById('resourcesCollected').textContent = this.resourcesCollected;
      document.getElementById('level').textContent = this.level;
      document.getElementById('statusIcon').textContent = this.isRunning ? (this.isPaused ? '‚è∏Ô∏è' : 'üü¢') : 'üî¥';
      
      var minutes = Math.floor(this.gameTime / 60);
      var seconds = this.gameTime % 60;
      document.getElementById('gameTime').textContent = minutes + ':' + (seconds < 10 ? '0' : '') + seconds;
    };

    SnakeGame.prototype.log = function(msg, type){
      type = type || 'info';
      var logDiv = document.getElementById('log');
      var timestamp = new Date().toLocaleTimeString();
      var entry = document.createElement('div');
      entry.className = 'log-entry ' + type;
      entry.innerHTML = '<strong>[' + timestamp + ']</strong> ' + msg;
      logDiv.appendChild(entry);
      logDiv.scrollTop = logDiv.scrollHeight;
    };

    // UI functions
    function startGame(){
      if(!game.isRunning){
        game.start();
      }
    }

    function pauseGame(){
      if(game.isRunning){
        game.pause();
      }
    }

    function restartGame(){
      game.restart();
    }

    function toggleTheme(){
      var body = document.body;
      var btn = document.querySelector('.theme-toggle');
      if(body.classList.contains('light-mode')){
        body.classList.remove('light-mode');
        btn.textContent = 'üåô Dark Mode';
        localStorage.setItem('theme', 'dark');
      } else {
        body.classList.add('light-mode');
        btn.textContent = '‚òÄÔ∏è Light Mode';
        localStorage.setItem('theme', 'light');
      }
    }

    document.addEventListener('DOMContentLoaded', function(){
      game = new SnakeGame();
      
      // Restore theme
      var savedTheme = localStorage.getItem('theme');
      if(savedTheme === 'light'){
        document.body.classList.add('light-mode');
        document.querySelector('.theme-toggle').textContent = '‚òÄÔ∏è Light Mode';
      }
      
      game.log('üêç Crypto Resource Hunter loaded!', 'success');
      game.log('üí° Use WASD keys to move and collect resources', 'info');
      game.log('‚ö° Energy decreases over time - collect resources to survive!', 'warning');
      
      // Initialize display
      game.restart();
    });
  </script>
</body>
</html>